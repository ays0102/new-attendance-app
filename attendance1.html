<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Attendance</title>
    <link rel="stylesheet" href="attendance1.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div id="formSection">
            <h2>Mark Attendance</h2>
            <button id="addStudentsButton" onclick="showAddStudentsForm()">Add Students by Range</button>
            <button id="addClassButton" onclick="showAddClassForm()">Add Class</button>
            <button id="addCourseButton" onclick="showAddCourseForm()">Add Course</button>

            <div class="date-picker">
                <label for="attendanceDate">Date:</label>
                <input type="date" id="attendanceDate" required>
            </div>

            <div class="form-group">
                <div>
                    <label for="classSelector">Class:</label>
                    <select id="classSelector" required onchange="updateCourseOptions()">
                        <option value="" disabled selected>Select Class</option>
                    </select>
                </div>
                <div>
                    <label for="courseSelector">Course:</label>
                    <select id="courseSelector" required onchange="updateSectionOptions()">
                        <option value="" disabled selected>Select Course</option>
                    </select>
                </div>
                <div>
                    <label for="sectionSelector">Section:</label>
                    <select id="sectionSelector" required onchange="showStudentsList()">
                        <option value="" disabled selected>Select Section</option>
                        <option value="A">Section A</option>
                        <option value="B">Section B</option>
                    </select>
                </div>
            </div>

            <ul id="studentsList"></ul>

            <div id="summarySection">
                <h3>Summary</h3>
                <p>Total Students: <span id="totalStudents">0</span></p>
                <p>Total Present: <span id="totalPresent">0</span></p>
                <p>Total Absent: <span id="totalAbsent">0</span></p>
                <p>Total Leave: <span id="totalLeave">0</span></p>
            </div>

            <button onclick="submitAttendance()">Submit Attendance</button>

            <div id="resultSection" style="display: none;">
                <h3>Attendance Result</h3>
                <p>Date: <span id="resultDate"></span></p>
                <p>Class: <span id="resultClass"></span></p>
                <p>Course: <span id="resultCourse"></span></p>
                <p>Section: <span id="resultSectionName"></span></p>
                <p>Total Students: <span id="resultTotalStudents"></span></p>
                <p>Present: <span id="resultPresent"></span></p>
                <p>Absent: <span id="resultAbsent"></span></p>
                <p>Leave: <span id="resultLeave"></span></p>
            </div>
        </div>
    </div>

    <!-- Popup Forms -->
    <div id="addStudentsPopup" class="popup">
        <h2>Add Students by Range</h2>
        <label for="studentPrefix">Student ID Prefix (optional):</label>
        <input type="text" id="studentPrefix" placeholder="e.g., STU-">
        <div class="form-group">
            <div>
                <label for="startRoll">Start Roll No:</label>
                <input type="number" id="startRoll" required min="1">
            </div>
            <div>
                <label for="endRoll">End Roll No:</label>
                <input type="number" id="endRoll" required min="1">
            </div>
        </div>
        <button onclick="addStudentsByRange()">Add Students</button>
        <button class="btn-secondary" onclick="closePopup()">Cancel</button>
    </div>

    <div id="addClassPopup" class="popup">
        <h2>Add Class</h2>
        <label for="newClassName">Class Name:</label>
        <input type="text" id="newClassName" required>
        <button onclick="addClass()">Submit</button>
        <button class="btn-secondary" onclick="closePopup()">Cancel</button>
    </div>

    <div id="addCoursePopup" class="popup">
        <h2>Add Course</h2>
        <label for="newCourseName">Course Name:</label>
        <input type="text" id="newCourseName" required>
        <label for="newCourseCode">Course Code:</label>
        <input type="text" id="newCourseCode" required>
        <label for="courseClass">Class:</label>
        <select id="courseClass" required>
            <option value="" disabled selected>Select Class</option>
        </select>
        <button onclick="addCourse()">Submit</button>
        <button class="btn-secondary" onclick="closePopup()">Cancel</button>
    </div>

    <script src="attendance1.js"></script>
</body>
</html>